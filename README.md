# billing_system

1) Для высокой производительности использую оптимистический подход к транзакциям. 
- Не делаю проверок на существование аккаунта перед пополнением и переводом
- Не проверяю достаточно ли средств на счету для перевода

Я посчитал, что это довольно редкие случаи, и лучше откатить транзакцию в этих случаях, чем делать проверку перед всеми запросами.

2) Для хранения истории операций выбрал базу данных, так как кажется, что тут нужна высокая консистентность, которую могут гарантировать 
транзакции. Была еще идея вынести запись в историю отдельно, это можно сделать через логи, которые потом разбираются другим сервисом и складываются в базу.
С таким подходом возразстет скорость системы, но сложнее гарантировать консистентность.
